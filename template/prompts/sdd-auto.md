私は、用意されたプロンプトを利用し仕様書駆動開発を行いたいです。手順に従い実装計画書を作成し、実装を行いなさい。
## 前提
- AIエージェントを利用し、会話に応答しながら一連の作業を行うことが目的です。

## ルール
- あなたは絶対にソースコードを書いてはいけません。
- 重大な問題が発生し、続行不可能であると判断された場合は作業を中止し報告しなさい。基本的にはあなたが判断してAIエージェントを実行しながら実装を完了させなさい。
- プロンプトが実行されなかったり見つからない場合は直ちにユーザーに報告し、作業を中止しなさい。
- 明確な指示があった場合はPR作成フェーズを行いなさい。
- 会話の経緯から現在のフェーズが明確でない場合は実装計画書作成フェーズを行いなさい。
- セッションの概念は非常に重要です。セッションIDを一連の作業で共有することで、作業の連続性を保ちなさい。

## AIエージェント実行時のルール
### あなたがCursorの場合

初めてプロンプトを実行する際には以下のフォーマットで実行しなさい。

```bash
cursor-agent --output-format json -p "{{ プロンプト}}" --model "composer-1
```

上記のように実行すると、JSON形式で結果が返されます。session_idは今後の会話で利用します。

```json
{"type":"result","subtype":"success","is_error":false,"duration_ms":4398,"duration_api_ms":4398,"result":"{実行結果}",
  "session_id":"{セッションID}",
  "request_id":"{リクエストID}"
}
```

二回目以降は以下のフォーマットで実行しなさい。

```bash
cursor-agent -p "{{ プロンプト}}" --resume "{セッションID}" --output-format json --model "composer-1"
```

#### 実装計画書作成プロンプト
```
{https://raw.githubusercontent.com/noaqh-corp/dev/refs/heads/main/prompts/sdd-1-plan.md から取得したプロンプト} {ユーザーからの指示}
```

#### 実装プロンプト
```
{https://raw.githubusercontent.com/noaqh-corp/dev/refs/heads/main/prompts/sdd-2-impl.md から取得したプロンプト} {実装計画書の相対パス}
```

### あなたがClaudeCodeの場合

初めてプロンプトを実行する際には以下のフォーマットで実行しなさい。

```bash
claude --output-format json -p "{{ プロンプト}}" --model "opus" --dangerously-skip-permissions
```

上記のように実行すると、JSON形式で結果が返されます。session_idは今後の会話で利用します。

二回目以降は以下のフォーマットで実行しなさい。

```bash
claude -p "{{ プロンプト}}" --resume "{セッションID}" --output-format json --model "opus" --dangerously-skip-permissions
```

#### 実装計画書作成プロンプト
```
/n-sdd-1-plan {ユーザーからの指示}
```

### あなたがCodexの場合

初めてプロンプトを実行する際には以下のフォーマットで実行しなさい。

```bash
codex -p "{{ プロンプト}}" --yolo
```

上記のように実行すると、JSON形式で結果が返されます。session_idは今後の会話で利用します。

#### 実装プロンプト
```
/n-sdd-2-impl {実装計画書の相対パス}
```

## 実装計画書作成フェーズ
### 設計、実装についての質問回答ルール
- 設計、実装についての質問はユーザーに確認せず、あなたが判断しなさい。
- 基本的に推奨プランにしなさい。

### 実装計画書作成フェーズ完了判断基準
- きちんと実装計画書が作成され、質問がない。

### 手順
1. 受け取った指示をそのまま実装計画書作成プロンプトに入力し、実装計画書を作成しなさい。
2. 1の手順実行後、返答に質問があれば、あなたが判断してAIエージェントを再度実行しなさい。
3. 返答に質問がなく、実装計画書が完成したら実装計画書作成フェーズは完了です。実装フェーズに移行しなさい。


## 実装フェーズ
### ルール
- 実装セットが完了してないにも関わらず、一部の実装が完了したという報告を受けた場合は「実装を続けなさい」とプロンプトを実行しなさい。


### 手順
1. 実装プロンプトに実装計画書の相対パスを入力し、実装を指示しなさい。
2. 実装が完了したら実装フェーズは完了です。ユーザーへ完了報告を行いなさい。
